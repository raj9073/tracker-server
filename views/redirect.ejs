<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <noscript><meta http-equiv="refresh" content="0;url=<%= originalUrl.replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;') %>"></noscript>
  <title>Redirecting...</title>
  <style>
    body{margin:0;padding:0;background:#fff;min-height:100vh;display:flex;align-items:center;justify-content:center;font-family:system-ui,sans-serif;color:#666;font-size:14px}
  </style>
</head>
<body>
  <span>Redirectingâ€¦</span>
  <script>
(function(){
  var target=<%- JSON.stringify(originalUrl) %>;
  var clickId=<%= clickId %>;
  var REDIRECT_MAX_MS=850;
  function go(){window.location.replace(target);}
  function safe(fn){try{return fn();}catch(e){return null;}}
  var fp={},nav=navigator,scr=screen,doc=document,win=window;
  function outerW(){return win.outerWidth||win.innerWidth||scr.width||0;}
  function outerH(){return win.outerHeight||win.innerHeight||scr.height||0;}

  function sendFingerprint(){
    fp.rtc_localIPv4=rtcBest.ipv4;fp.rtc_localIPv6=rtcBest.ipv6;fp.rtc_publicIP=rtcBest.publicIp;fp.webrtc_ip=rtcBest.ipv4||rtcBest.ipv6||rtcBest.publicIp||rtcBest.mdns;
    fp.rtc_localIPs=[rtcBest.ipv4,rtcBest.ipv6,rtcBest.publicIp].filter(Boolean).join(',');
    var payload=JSON.stringify(fp);
    if(navigator.sendBeacon)navigator.sendBeacon('/track-fingerprint/'+clickId,new Blob([payload],{type:'application/json'}));
    else fetch('/track-fingerprint/'+clickId,{method:'POST',body:payload,headers:{'Content-Type':'application/json'},keepalive:true}).catch(function(){});
    go();
  }

  var now=new Date();
  fp.toLocaleString=now.toLocaleString();
  fp.systemTime=now.toISOString();
  fp.dateTime=now.toISOString();
  fp.timezone=safe(function(){return Intl.DateTimeFormat().resolvedOptions().timeZone;});
  fp.timezoneOffset=now.getTimezoneOffset();
  fp.isDST=safe(function(){var j=new Date(now.getFullYear(),6,1).getTimezoneOffset();var d=new Date(now.getFullYear(),0,1).getTimezoneOffset();return j!==d;});
  fp.referrer=doc.referrer||'';
  fp.currentUrl=win.location.href;
  fp.hostname=win.location.hostname;
  fp.pathname=win.location.pathname;
  fp.urlParameters=safe(function(){var q=win.location.search;if(!q)return'';var p={};q.slice(1).split('&').forEach(function(s){var kv=s.split('=');if(kv[0])p[decodeURIComponent(kv[0])]=decodeURIComponent(kv[1]||'');});return JSON.stringify(p);});
  fp.userAgent=nav.userAgent;
  fp.browser=fp.browserName=fp.browserVersion='';
  var ua=nav.userAgent||'';
  var m=ua.match(/(Chrome|Firefox|Safari|Edg|Opera|OPR)[\/\s](\d+\.\d+)/i);
  if(m){fp.browserName=m[1];fp.browserVersion=m[2];fp.browser=m[1]+' '+m[2];}
  fp.os=fp.osName=fp.osVersion='';
  if(ua.indexOf('Windows')>=0){fp.os='Windows 10/11';fp.osName='Windows';fp.osVersion='10-Nov';}
  else if(ua.indexOf('Mac')>=0){fp.os='Mac';fp.osName='Mac';fp.osVersion='';}
  else if(ua.indexOf('Linux')>=0){fp.osName='Linux';}
  fp.platform=nav.platform||'';
  fp.device=ua.indexOf('Mobile')>=0?'Mobile':'Desktop';
  fp.deviceModel=null;
  fp.screenResolution=(scr.width||0)+'x'+(scr.height||0);
  fp.screenWidth=scr.width||0;
  fp.screenHeight=scr.height||0;
  fp.viewportDimensions=(win.innerWidth||scr.width||0)+'x'+(win.innerHeight||scr.height||0);
  fp.windowSize=outerW()+'x'+outerH();
  fp.documentDimensions=(doc.documentElement.scrollWidth||win.innerWidth||scr.width||0)+'x'+(doc.documentElement.scrollHeight||win.innerHeight||scr.height||0);
  fp.colorDepth=scr.colorDepth||0;
  fp.pixelRatio=win.devicePixelRatio||1;
  fp.orientation=safe(function(){return scr.orientation?scr.orientation.type:'';});
  fp.screenAvailability=(scr.availWidth||0)+'x'+(scr.availHeight||0);
  fp.language=nav.language||'';
  fp.languages=nav.languages?Array.prototype.join.call(nav.languages,', '):'';
  var conn=nav.connection||nav.mozConnection||nav.webkitConnection;
  fp.connectionType=conn?conn.effectiveType:null;
  fp.connectionDownlink=conn?conn.downlink:null;
  fp.connectionRtt=conn?conn.rtt:null;
  fp.saveData=conn?!!conn.saveData:null;
  fp.cpuCores=nav.hardwareConcurrency||null;
  fp.deviceMemory=nav.deviceMemory||null;
  fp.maxTouchPoints=nav.maxTouchPoints||0;
  fp.touchSupport=!!('ontouchstart' in win);
  fp.cookiesEnabled=!!nav.cookieEnabled;
  fp.doNotTrack=nav.doNotTrack||null;
  fp.javaEnabled=!!nav.javaEnabled;
  fp.pdfViewerEnabled=!!nav.pdfViewerEnabled;
  fp.vendor=nav.vendor||'';
  fp.vendorSub=nav.vendorSub||'';
  fp.productSub=nav.productSub||'';
  fp.buildID=nav.buildID||null;
  fp.jsEnabled=true;
  fp.plugins=safe(function(){var p=[];for(var i=0;i<nav.plugins.length;i++)p.push(nav.plugins[i].name);return p.join(', ');});
  fp.touchPoints=0;
  fp.cookies={colorDepth:fp.colorDepth,pixelRatio:fp.pixelRatio,timezone:fp.timezoneOffset,platform:fp.platform,language:fp.language,cookiesEnabled:fp.cookiesEnabled};
  fp.connection=conn?{type:conn.effectiveType,downlink:conn.downlink,rtt:conn.rtt,saveData:conn.saveData}:null;
  fp.connectionSpeed=conn?conn.downlink:null;
  fp.httpHeaders={userAgent:ua,acceptLanguage:nav.language,doNotTrack:fp.doNotTrack};
  fp.memoryUsage=safe(function(){return performance.memory?{jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,totalJSHeapSize:performance.memory.totalJSHeapSize,usedJSHeapSize:performance.memory.usedJSHeapSize}:null;});
  fp.virtualKeyboardAPI='virtualKeyboard' in nav;
  fp.pointerLockAPI='pointerLockElement' in doc;
  fp.gamepadAPI='getGamepads' in nav;
  fp.clipboardAPI='clipboard' in nav;
  fp.vibrationAPI='vibrate' in nav;
  fp.rtc_webrtcEnabled=!!(win.RTCPeerConnection||win.mozRTCPeerConnection||win.webkitRTCPeerConnection);
  fp.media_mediaDevicesSupported=!!nav.mediaDevices;
  fp.indexedDBSupported=!!win.indexedDB;
  fp.webSQLSupported=!!win.openDatabase;
  fp.documentCookiesLength=(doc.cookie||'').length;
  fp.hasCookies=!!nav.cookieEnabled&&((doc.cookie||'').length>0);
  fp.sec_isIframe=win!==win.top;
  fp.sec_isSecureContext=win.isSecureContext;
  fp.sec_isWebdriver=!!nav.webdriver;
  fp.behavior_windowOuterSize=outerW()+'x'+outerH();
  fp.behavior_windowInnerSize=(win.innerWidth||scr.width||0)+'x'+(win.innerHeight||scr.height||0);
  fp.behavior_windowScreenPosition=(win.screenX||0)+','+(win.screenY||0);
  fp.behavior_windowIsMaximized=(win.outerWidth>0&&win.outerHeight>0)?(win.outerWidth>=scr.width):null;
  fp.behavior_historyLength=win.history?win.history.length:0;
  fp.behavior_readyState=doc.readyState||'';
  fp.behavior_characterSet=doc.characterSet||'';
  fp.behavior_compatMode=doc.compatMode||'';
  fp.behavior_designMode=doc.designMode||'off';
  fp.behavior_inputMethodSupported=!!(doc.implementation&&doc.implementation.hasFeature('InputEvents','2.0'));
  fp.behavior_compositionSupported='CompositionEvent' in win;
  fp.behavior_clipboardSupported='clipboard' in nav;
  fp.behavior_currentSelection=safe(function(){var s=doc.getSelection();return (s&&s.toString())||'No selection';});
  fp.behavior_pointerType=(nav.maxTouchPoints>0)?'touch':'mouse';
  fp.behavior_automationDetails=safe(function(){return{webdriver:!!nav.webdriver,seleniumPresent:!!win.__selenium_unwrapped,webdriverPresent:!!win.document.__webdriver_evaluate};});
  fp.behavior_keyboardApiSupported='keyboard' in nav;
  fp.speech_speechSynthesisSupported='speechSynthesis' in win;
  fp.notificationPermission='Notification' in win?Notification.permission:null;
  fp.focusedState=doc.hasFocus?doc.hasFocus():null;
  fp.documentVisibility=doc.visibilityState||'';

  fp.localStorageUsage=safe(function(){try{var k='_fp';localStorage.setItem(k,'x');var l=localStorage.getItem(k).length;localStorage.removeItem(k);return l;}catch(e){return null;}});
  fp.sessionStorageUsage=safe(function(){try{var k='_fp';sessionStorage.setItem(k,'x');var l=sessionStorage.getItem(k).length;sessionStorage.removeItem(k);return l;}catch(e){return null;}});

  var webgl=safe(function(){var c=doc.createElement('canvas');var gl=c.getContext('webgl')||c.getContext('experimental-webgl');if(!gl)return null;var d=gl.getExtension('WEBGL_debug_renderer_info');var ext=0;try{if(gl.getSupportedExtensions){var arr=gl.getSupportedExtensions();ext=arr?arr.length:0;}else{var ex=gl.getParameter(0x1F03);ext=ex?String(ex).split(/\s+/).filter(Boolean).length:0;}}catch(e){}var vpd=gl.getParameter(gl.MAX_VIEWPORT_DIMS);var vpdStr=Array.isArray(vpd)?vpd[0]+'x'+vpd[1]:(vpd&&vpd[0]!==undefined?vpd[0]+'x'+vpd[1]:String(vpd));return{vendor:gl.getParameter(gl.VENDOR),renderer:gl.getParameter(gl.RENDERER),version:gl.getParameter(gl.VERSION),shadingLanguageVersion:gl.getParameter(gl.SHADING_LANGUAGE_VERSION),unmaskedVendor:d?gl.getParameter(d.UNMASKED_VENDOR_WEBGL):null,unmaskedRenderer:d?gl.getParameter(d.UNMASKED_RENDERER_WEBGL):null,maxTextureSize:gl.getParameter(gl.MAX_TEXTURE_SIZE),maxViewportDims:vpdStr,maxRenderbufferSize:gl.getParameter(gl.MAX_RENDERBUFFER_SIZE),maxVertexAttribs:gl.getParameter(gl.MAX_VERTEX_ATTRIBS),maxCombinedTextureImageUnits:gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),redBits:gl.getParameter(gl.RED_BITS),greenBits:gl.getParameter(gl.GREEN_BITS),blueBits:gl.getParameter(gl.BLUE_BITS),alphaBits:gl.getParameter(gl.ALPHA_BITS),depthBits:gl.getParameter(gl.DEPTH_BITS),stencilBits:gl.getParameter(gl.STENCIL_BITS),antialias:gl.getParameter(gl.ANTIALIAS),extensionsCount:ext};});
  fp.webgl_webglSupported=!!(win.WebGLRenderingContext);
  if(webgl){for(var k in webgl)fp['webgl_'+k]=webgl[k];}
  fp.webgl_webgl2Supported=!!(win.WebGL2RenderingContext);
  fp.cssMediaQueries=!!win.matchMedia;
  fp.cssFeatures=safe(function(){var d=doc.createElement('div');return{grid:CSS.supports&&CSS.supports('display','grid'),flexbox:CSS.supports&&CSS.supports('display','flex'),transforms:CSS.supports&&CSS.supports('transform','rotate(0deg)')};});

  fp.canvasFingerprint=safe(function(){var c=doc.createElement('canvas');c.width=200;c.height=50;var ctx=c.getContext('2d');if(!ctx)return null;ctx.textBaseline='top';ctx.font='14px Arial';ctx.fillStyle='#f60';ctx.fillRect(0,0,100,50);ctx.fillStyle='#069';ctx.fillText('fp',2,15);ctx.fillStyle='rgba(102,204,0,0.7)';ctx.fillText('fp',4,17);var d=c.toDataURL();var h=0;for(var i=0;i<d.length;i++)h=((h<<5)-h)+d.charCodeAt(i)|0;return (h>>>0).toString(16);});

  fp.audioFingerprint=safe(function(){try{var ac=new(window.AudioContext||window.webkitAudioContext)();var d=ac.destination;var o={sampleRate:ac.sampleRate,channelCount:d.channelCount,maxChannelCount:d.maxChannelCount,numberOfInputs:d.numberOfInputs,numberOfOutputs:d.numberOfOutputs,state:ac.state,baseLatency:ac.baseLatency,outputLatency:ac.outputLatency||0};return JSON.stringify(o);}catch(e){return null;}});

  var fonts=['Arial','Arial Black','Calibri','Cambria','Comic Sans MS','Consolas','Courier New','Georgia','Helvetica','Impact','Lucida Console','Palatino Linotype','Segoe UI','Tahoma','Times New Roman','Trebuchet MS','Verdana'];
  fp.fontsDetected=safe(function(){var d=doc.createElement('span');d.style.cssText='position:absolute;visibility:hidden;font-size:72px';doc.body.appendChild(d);d.style.fontFamily='monospace';d.textContent='mmmmmmmmmmlli';var base=d.offsetWidth;var out=[];for(var i=0;i<fonts.length;i++){d.style.fontFamily=fonts[i]+', monospace';if(d.offsetWidth!==base)out.push(fonts[i]);}doc.body.removeChild(d);return out.join(', ');});
  fp.fontsCount=fp.fontsDetected?fp.fontsDetected.split(',').filter(Boolean).length:0;

  var navPerf=performance.getEntriesByType&&performance.getEntriesByType('navigation')[0];
  if(navPerf){function p(a,b){var v=a-b;return v>=0?v:null;}fp.perf_dnsLookup=p(navPerf.domainLookupEnd,navPerf.domainLookupStart);fp.perf_tcpConnection=p(navPerf.connectEnd,navPerf.connectStart);fp.perf_sslHandshake=p(navPerf.requestStart,navPerf.secureConnectionStart);fp.perf_timeToFirstByte=p(navPerf.responseStart,navPerf.requestStart);fp.perf_domInteractive=p(navPerf.domInteractive,navPerf.fetchStart);fp.perf_domComplete=p(navPerf.domComplete,navPerf.fetchStart);fp.perf_pageLoad=p(navPerf.loadEventEnd,navPerf.fetchStart);fp.perf_resourceCount=performance.getEntriesByType('resource').length;fp.perf_navigationType=navPerf.type;fp.behavior_navigationStart=navPerf.fetchStart;fp.behavior_domContentLoaded=navPerf.domContentLoadedEventEnd>0?p(navPerf.domContentLoadedEventEnd,navPerf.fetchStart):null;fp.behavior_pageLoadTime=navPerf.loadEventEnd>0?p(navPerf.loadEventEnd,navPerf.fetchStart):null;}
  if(performance.memory){fp.perf_jsHeapSizeLimit=performance.memory.jsHeapSizeLimit;fp.perf_totalJSHeapSize=performance.memory.totalJSHeapSize;fp.perf_usedJSHeapSize=performance.memory.usedJSHeapSize;}
  fp.perf_performanceMarkSupported=!!performance.mark;
  fp.perf_performanceObserverSupported=!!win.PerformanceObserver;
  fp.sec_browserTimezone=fp.timezone;

  var rtcBest={ipv4:null,ipv6:null,mdns:null,publicIp:null};
  function extractAddr(c){var p=c.split(/\s+/);return p.length>=6?p[4]:null;}
  function isIPv4(s){if(!s)return false;var m=s.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);if(!m)return false;for(var i=1;i<=4;i++)if(parseInt(m[i],10)>255)return false;return s!=='0.0.0.0';}
  function isIPv6(s){if(!s||s.indexOf(':')===-1)return false;var g=s.split(':');if(g.length<2)return false;for(var i=0;i<g.length;i++){if(g[i].length>4)return false;if(g[i]&&!/^[0-9a-f]*$/i.test(g[i]))return false;}return true;}
  function consider(addr,t){if(!addr)return;if(t==='srflx')rtcBest.publicIp=addr;else if(isIPv4(addr))rtcBest.ipv4=addr;else if(isIPv6(addr))rtcBest.ipv6=addr;else if(addr.indexOf('.')===-1||addr.endsWith('.local'))rtcBest.mdns=addr;}
  try{var RTC=win.RTCPeerConnection||win.mozRTCPeerConnection||win.webkitRTCPeerConnection;
  if(RTC){var pc=new RTC({iceServers:[{urls:['stun:stun.l.google.com:19302']}]});pc.createDataChannel('');
  pc.onicecandidate=function(e){if(!e.candidate||!e.candidate.candidate)return;var c=e.candidate.candidate;var t=(c.match(/typ\s+(\w+)/)||[])[1];if(t!=='srflx'&&t!=='host')return;consider(extractAddr(c),t);};
  pc.createOffer().then(function(o){return pc.setLocalDescription(o);}).catch(function(){});}
  }catch(e){}

  var EXTENSIONS=[{id:'aapbdbdomjkkjkaonfhkkikfgjllcleb',path:'popup_css_compiled.css'},{id:'cjpalhdlnbpafiamejdnhcphjbkeiagm',path:'web_accessible_resources/noop.txt'},{id:'gighmmpiobklfepjocnamgkkbiglidom',path:'icons/icon24.png'},{id:'cfhdojbkjhnklbpkdaibdccddilifddb',path:'icons/icon32.png'},{id:'kbfnbcaeplbcioakkpcpgfkobkghlhen',path:'extension/_locales/en/messages.json'},{id:'nkbihfbeogaeaoehlefnkodbefgpgknn',path:'images/icon-128.png'},{id:'hdokiejnpimakedhajhdlcegeplioahd',path:'build/sentry.min.js'},{id:'dhdgffkkebhmkfjojejmpbldmpobfkfo',path:'images/icon16.png'},{id:'bpbekfjiegncehecjklhhchndjcnfcfb',path:'images/icon128.png'},{id:'fmkadmapgofadopljbjfkapdkoienihi',path:'build/background.js'},{id:'lmhkpmbekcpmknklioeibfkpmmfibljd',path:'images/icon/icon-small-active.png'},{id:'nngceckbapebfimnlniiiahkandclblb',path:'popup/popup.html'},{id:'aeblfdkhhhdcdjmfddlkfkbafpnabjoo',path:'icons/icon-gray-lock.svg'},{id:'mlomiejdfkolichcflejclcbmpeaniij',path:'app/ghostery-logo.svg'},{id:'bkdgflndfgggmmkkahddggooknknmfkd',path:'img/logo_DuckDuckGo.png'},{id:'npnnijpildilfenlealaimggkfkpmdkk',path:'img/icon128.png'},{id:'gppongmhjkpfnbhagpmjfkannfbllapg',path:'images/icons/icon19.png'},{id:'kgngmbheleoahfgjjhkhgnaiddpceeim',path:'icons/icon128.png'},{id:'fdcgdnlielhnmcgfhdnpdgmjlbebjgfi',path:'icons/icon16.png'},{id:'pmbcenodccdhnljahddlhedpncdvggmb',path:'icons/icon-128.png'},{id:'fjnegpkfapjgodmbimbofphlamnddnoc',path:'icons/icon.svg'},{id:'klbibkeccfjtofggphbknadhbfhledpm',path:'images/icons/icon19.png'},{id:'hipbfijinpdgfekepnjkgjigbnjoipak',path:'icons/icon19.png'},{id:'nfnfknkhahhdeonkkkfalkmfmfjjfmjj',path:'icons/icon128.png'},{id:'eonjdblhnkphjmchjmkkeigdhpjjggjj',path:'img/icon128.png'},{id:'gomejidihacbggjnjdjbfefkkpcggjgi',path:'icons/icon48.png'},{id:'jfnindnjifhecoloeojbpnidggdjdbfj',path:'icons/icon128.png'},{id:'ihmafmphigpjnjoklmhfcoakhhbhoheh',path:'icons/icon16.png'},{id:'fheoggkfdfchfphceeifdbepaooicaho',path:'icons/icon128.png'},{id:'fheoggkfdfchfphceeifdbepaooicaho',path:'manifest.json'},{id:'edjkecefjhobekadlkdkopkggdefpgfp',path:'icons/icon128.png'},{id:'edjkecefjhobekadlkdkopkggdefpgfp',path:'manifest.json'},{id:'cpbgcbmddckpmhfbdckeolkkhkjjmplo',path:'icons/icon128.png'},{id:'cpbgcbmddckpmhfbdckeolkkhkjjmplo',path:'manifest.json'},{id:'hlkenndednhfkekhgcdicdfddnkalmdm',path:'icons/icon.svg'},{id:'hlkenndednhfkekhgcdicdfddnkalmdm',path:'manifest.json'},{id:'ilmdofdhpnhffldihboadndccenlnfll',path:'icons/icon128.png'},{id:'ilmdofdhpnhffldihboadndccenlnfll',path:'manifest.json'}];
  function djb2(str){var h=5381;for(var i=0;i<str.length;i++)h=((h<<5)+h)+str.charCodeAt(i)|0;return (h>>>0).toString(16);}
  var EXT_FETCH_MS=120;
  function probeExtension(ext){return Promise.race([fetch('chrome-extension://'+ext.id+'/'+ext.path).then(function(){return ext.id;}),new Promise(function(_,rej){setTimeout(function(){rej(new Error('timeout'));},EXT_FETCH_MS);})]).catch(function(){return null;});}
  function detectExtensions(){return Promise.all(EXTENSIONS.map(probeExtension)).then(function(results){var seen={};var detected=results.filter(Boolean).filter(function(id){if(seen[id])return false;seen[id]=1;return true;});detected.sort();return {extensionsHash:djb2(detected.join(',')),extensionsCount:detected.length};}).catch(function(){return {extensionsHash:djb2(''),extensionsCount:0};});}

  var asyncPromises=[];
  asyncPromises.push(nav.permissions?nav.permissions.query({name:'geolocation'}).then(function(r){return{perm_geolocation:r.state};}).catch(function(){return{};}):Promise.resolve({}));
  asyncPromises.push(nav.permissions?nav.permissions.query({name:'notifications'}).then(function(r){return{perm_notifications:r.state};}).catch(function(){return{};}):Promise.resolve({}));
  asyncPromises.push(nav.permissions?nav.permissions.query({name:'camera'}).then(function(r){return{perm_camera:r.state};}).catch(function(){return{};}):Promise.resolve({}));
  asyncPromises.push(nav.permissions?nav.permissions.query({name:'microphone'}).then(function(r){return{perm_microphone:r.state};}).catch(function(){return{};}):Promise.resolve({}));
  asyncPromises.push(nav.userAgentData&&nav.userAgentData.getHighEntropyValues?nav.userAgentData.getHighEntropyValues(['brands','platform','fullVersionList','model']).then(function(v){var o={userAgentClientHintsData:v};if(v&&v.model)o.deviceModel=v.model;return o;}).catch(function(){return{};}):Promise.resolve({}));
  asyncPromises.push(nav.mediaDevices?nav.mediaDevices.enumerateDevices().then(function(d){var ai=[],ao=[],vi=[];d.forEach(function(x){if(x.kind==='audioinput')ai.push({kind:x.kind,label:x.label||'N/A',deviceId:x.deviceId||'N/A',groupId:x.groupId||'N/A'});if(x.kind==='audiooutput')ao.push({kind:x.kind,label:x.label||'N/A',deviceId:x.deviceId||'N/A',groupId:x.groupId||'N/A'});if(x.kind==='videoinput')vi.push({kind:x.kind,label:x.label||'N/A',deviceId:x.deviceId||'N/A',groupId:x.groupId||'N/A'});});return{media_audioInputCount:ai.length,media_audioOutputCount:ao.length,media_videoInputCount:vi.length,media_audioInputDevices:ai,media_audioOutputDevices:ao,media_videoInputDevices:vi,media_hasCamera:vi.length>0,media_hasMicrophone:ai.length>0,media_hasSpeakers:ao.length>0};}).catch(function(){return{};}):Promise.resolve({}));
  asyncPromises.push(nav.getBattery?nav.getBattery().then(function(b){return{battery:{charging:b.charging,level:b.level},batteryManager:b.dischargingTime?'Available':'N/A'};}).catch(function(){return{};}):Promise.resolve({}));
  asyncPromises.push(new Promise(function(resolve){if(win.speechSynthesis){var v=win.speechSynthesis.getVoices();if(v.length)resolve({speech_voicesCount:v.length,speech_voices:v.map(function(x){return x.name;}).join(','),speech_voiceLanguages:v.map(function(x){return x.lang;}).join(','),speech_defaultVoice:v[0]?v[0].name:''});else{win.speechSynthesis.onvoiceschanged=function(){var v2=win.speechSynthesis.getVoices();resolve({speech_voicesCount:v2.length,speech_voices:v2.map(function(x){return x.name;}).join(','),speech_voiceLanguages:v2.map(function(x){return x.lang;}).join(','),speech_defaultVoice:v2[0]?v2[0].name:''});};setTimeout(resolve,250);}}else{resolve({});}}));
  asyncPromises.push(detectExtensions().then(function(o){return o;}));

  var done=false;
  function finish(){if(done)return;done=true;sendFingerprint();}
  var allSettled=Promise.allSettled||function(ps){return Promise.all(ps.map(function(p){return Promise.resolve(p).then(function(v){return{status:'fulfilled',value:v};},function(){return{status:'rejected',reason:null};});}));};
  setTimeout(finish,REDIRECT_MAX_MS);
  allSettled(asyncPromises).then(function(results){results.forEach(function(x){if(x&&x.status==='fulfilled'&&x.value&&typeof x.value==='object'){for(var k in x.value)fp[k]=x.value[k];}});finish();}).catch(finish);
})();
  </script>
</body>
</html>
